{"ast":null,"code":"import * as SecureLS from 'secure-ls';\nimport * as i0 from \"@angular/core\";\nexport class AppConfig {\n  constructor() {\n    this.initSession();\n  }\n  initSession() {\n    const ls = new SecureLS({\n      encodingType: 'aes',\n      encryptionSecret: 'MyAdminApp'\n    });\n    if (ls.get('current_session_novus')) {\n      const config = JSON.parse(ls.get('current_session_novus'));\n      this.dateExpiration = config.dateExpiration;\n      this.currentUser = JSON.parse(ls.get('current_session_novus')).user;\n      this.currentUser.profil.droits = JSON.parse(ls.get('current_session_novus')).droits;\n      this.droits = this.currentUser?.profil ? this.currentUser?.profil?.droits : [];\n    }\n  }\n  static {\n    this.ɵfac = function AppConfig_Factory(t) {\n      return new (t || AppConfig)();\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: AppConfig,\n      factory: AppConfig.ɵfac\n    });\n  }\n}","map":{"version":3,"names":["SecureLS","AppConfig","constructor","initSession","ls","encodingType","encryptionSecret","get","config","JSON","parse","dateExpiration","currentUser","user","profil","droits","factory","ɵfac"],"sources":["/Users/diakaria/Documents/SAITECH/ANGULAR/visitrack/src/app/shared/utils/app-config.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Droit } from '../models/droit';\nimport * as SecureLS from 'secure-ls';\nimport { SessionData } from './session-data';\nimport { Utilisateur } from '../models/utilisateur';\n@Injectable()\nexport class AppConfig {\n\n  public dateExpiration: Date;\n  public currentUser: Utilisateur;\n  public droits: Droit[];\n  public agents: Utilisateur[];\n\n  constructor() {\n    this.initSession();\n  }\n\n  initSession() {\n    const ls = new SecureLS({ encodingType: 'aes', encryptionSecret: 'MyAdminApp' });\n    if (ls.get('current_session_novus')) {\n      const config: SessionData = JSON.parse(ls.get('current_session_novus'));\n      this.dateExpiration = config.dateExpiration;\n      this.currentUser = JSON.parse(ls.get('current_session_novus')).user;\n      this.currentUser.profil.droits = JSON.parse(ls.get('current_session_novus')).droits;\n      this.droits = this.currentUser?.profil ? this.currentUser?.profil?.droits : [];\n    }\n  }\n}\n"],"mappings":"AAEA,OAAO,KAAKA,QAAQ,MAAM,WAAW;;AAIrC,OAAM,MAAOC,SAAS;EAOpBC,YAAA;IACE,IAAI,CAACC,WAAW,EAAE;EACpB;EAEAA,WAAWA,CAAA;IACT,MAAMC,EAAE,GAAG,IAAIJ,QAAQ,CAAC;MAAEK,YAAY,EAAE,KAAK;MAAEC,gBAAgB,EAAE;IAAY,CAAE,CAAC;IAChF,IAAIF,EAAE,CAACG,GAAG,CAAC,uBAAuB,CAAC,EAAE;MACnC,MAAMC,MAAM,GAAgBC,IAAI,CAACC,KAAK,CAACN,EAAE,CAACG,GAAG,CAAC,uBAAuB,CAAC,CAAC;MACvE,IAAI,CAACI,cAAc,GAAGH,MAAM,CAACG,cAAc;MAC3C,IAAI,CAACC,WAAW,GAAGH,IAAI,CAACC,KAAK,CAACN,EAAE,CAACG,GAAG,CAAC,uBAAuB,CAAC,CAAC,CAACM,IAAI;MACnE,IAAI,CAACD,WAAW,CAACE,MAAM,CAACC,MAAM,GAAGN,IAAI,CAACC,KAAK,CAACN,EAAE,CAACG,GAAG,CAAC,uBAAuB,CAAC,CAAC,CAACQ,MAAM;MACnF,IAAI,CAACA,MAAM,GAAG,IAAI,CAACH,WAAW,EAAEE,MAAM,GAAG,IAAI,CAACF,WAAW,EAAEE,MAAM,EAAEC,MAAM,GAAG,EAAE;;EAElF;;;uBApBWd,SAAS;IAAA;EAAA;;;aAATA,SAAS;MAAAe,OAAA,EAATf,SAAS,CAAAgB;IAAA;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}