{"ast":null,"code":"import { environment } from '../../../environments/environment';\nimport { AppUtil } from 'src/app/shared/utils/App-util';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class AuthService {\n  constructor(http) {\n    this.http = http;\n    this.appUtil = new AppUtil();\n    this.serviceUrl = environment.apiUrl;\n    this.httpOptions = this.appUtil.httpHeaders();\n    this.currentUser = this.appUtil.getCurrentUser();\n  }\n  loginUser(authUser) {\n    return this.http.post(this.serviceUrl + '/Login', authUser, this.httpOptions);\n  }\n  authenticate(authUser) {\n    return this.http.get(this.serviceUrl + '/auth/' + authUser.username + '/' + authUser.password);\n  }\n  logout(userId) {\n    return this.http.get(this.serviceUrl + '/auth/logout/' + userId, this.httpOptions);\n  }\n  checkLicenceValidity(userId) {\n    return this.http.get(this.serviceUrl + '/auth/licence/' + userId, this.httpOptions);\n  }\n  resetPassword(userId, newPassword) {\n    return this.http.get(this.serviceUrl + '/auth/reset/password/' + userId + '/' + newPassword, this.httpOptions);\n  }\n  changePassword(auth) {\n    return this.http.put(this.serviceUrl + '/Modifypassword/' + auth.userId, auth, this.httpOptions);\n  }\n  findLogs(searchParam) {\n    return this.http.post(this.serviceUrl + '/log/find', searchParam, this.httpOptions);\n  }\n  static {\n    this.ɵfac = function AuthService_Factory(t) {\n      return new (t || AuthService)(i0.ɵɵinject(i1.HttpClient));\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: AuthService,\n      factory: AuthService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}","map":{"version":3,"names":["environment","AppUtil","AuthService","constructor","http","appUtil","serviceUrl","apiUrl","httpOptions","httpHeaders","currentUser","getCurrentUser","loginUser","authUser","post","authenticate","get","username","password","logout","userId","checkLicenceValidity","resetPassword","newPassword","changePassword","auth","put","findLogs","searchParam","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["/Users/diakaria/Documents/SAITECH/ANGULAR/visitrack/src/app/shared/services/auth.service.ts"],"sourcesContent":["import {Injectable} from '@angular/core';\nimport {Utilisateur} from '../../shared/models/utilisateur';\nimport {environment} from '../../../environments/environment';\nimport {HttpClient} from '@angular/common/http';\nimport { AuthUser } from 'src/app/shared/models/auth-user';\nimport { AppUtil } from 'src/app/shared/utils/App-util';\nimport { SearchParam } from '../utils/search-param';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n\n  private serviceUrl: string;\n  private httpOptions: any;\n  private currentUser: Utilisateur;\n  private appUtil: AppUtil;\n\n  constructor(private http: HttpClient) {\n    this.appUtil = new AppUtil();\n    this.serviceUrl = environment.apiUrl;\n    this.httpOptions = this.appUtil.httpHeaders();\n    this.currentUser = this.appUtil.getCurrentUser();\n  }\n  public loginUser(authUser: AuthUser) {\n    return this.http.post(this.serviceUrl + '/Login', authUser, this.httpOptions);\n  }\n\n  public authenticate(authUser: AuthUser) {\n    return this.http.get(this.serviceUrl + '/auth/' + authUser.username+ '/' + authUser.password);\n  }\n\n  public logout(userId) {\n    return this.http.get(this.serviceUrl + '/auth/logout/' + userId, this.httpOptions);\n  }\n\n  public checkLicenceValidity(userId: number) {\n    return this.http.get(this.serviceUrl + '/auth/licence/' + userId, this.httpOptions);\n  }\n\n  public resetPassword(userId: number, newPassword: string) {\n    return this.http.get(this.serviceUrl + '/auth/reset/password/' + userId + '/' + newPassword, this.httpOptions);\n  }\n\n  public changePassword(auth: any) {\n    return this.http.put(this.serviceUrl + '/Modifypassword/' + auth.userId, auth, this.httpOptions);\n  }\n\n  public findLogs(searchParam: SearchParam) {\n    return this.http.post(this.serviceUrl + '/log/find', searchParam, this.httpOptions);\n  }\n}\n"],"mappings":"AAEA,SAAQA,WAAW,QAAO,mCAAmC;AAG7D,SAASC,OAAO,QAAQ,+BAA+B;;;AAMvD,OAAM,MAAOC,WAAW;EAOtBC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IACtB,IAAI,CAACC,OAAO,GAAG,IAAIJ,OAAO,EAAE;IAC5B,IAAI,CAACK,UAAU,GAAGN,WAAW,CAACO,MAAM;IACpC,IAAI,CAACC,WAAW,GAAG,IAAI,CAACH,OAAO,CAACI,WAAW,EAAE;IAC7C,IAAI,CAACC,WAAW,GAAG,IAAI,CAACL,OAAO,CAACM,cAAc,EAAE;EAClD;EACOC,SAASA,CAACC,QAAkB;IACjC,OAAO,IAAI,CAACT,IAAI,CAACU,IAAI,CAAC,IAAI,CAACR,UAAU,GAAG,QAAQ,EAAEO,QAAQ,EAAE,IAAI,CAACL,WAAW,CAAC;EAC/E;EAEOO,YAAYA,CAACF,QAAkB;IACpC,OAAO,IAAI,CAACT,IAAI,CAACY,GAAG,CAAC,IAAI,CAACV,UAAU,GAAG,QAAQ,GAAGO,QAAQ,CAACI,QAAQ,GAAE,GAAG,GAAGJ,QAAQ,CAACK,QAAQ,CAAC;EAC/F;EAEOC,MAAMA,CAACC,MAAM;IAClB,OAAO,IAAI,CAAChB,IAAI,CAACY,GAAG,CAAC,IAAI,CAACV,UAAU,GAAG,eAAe,GAAGc,MAAM,EAAE,IAAI,CAACZ,WAAW,CAAC;EACpF;EAEOa,oBAAoBA,CAACD,MAAc;IACxC,OAAO,IAAI,CAAChB,IAAI,CAACY,GAAG,CAAC,IAAI,CAACV,UAAU,GAAG,gBAAgB,GAAGc,MAAM,EAAE,IAAI,CAACZ,WAAW,CAAC;EACrF;EAEOc,aAAaA,CAACF,MAAc,EAAEG,WAAmB;IACtD,OAAO,IAAI,CAACnB,IAAI,CAACY,GAAG,CAAC,IAAI,CAACV,UAAU,GAAG,uBAAuB,GAAGc,MAAM,GAAG,GAAG,GAAGG,WAAW,EAAE,IAAI,CAACf,WAAW,CAAC;EAChH;EAEOgB,cAAcA,CAACC,IAAS;IAC7B,OAAO,IAAI,CAACrB,IAAI,CAACsB,GAAG,CAAC,IAAI,CAACpB,UAAU,GAAG,kBAAkB,GAAGmB,IAAI,CAACL,MAAM,EAAEK,IAAI,EAAE,IAAI,CAACjB,WAAW,CAAC;EAClG;EAEOmB,QAAQA,CAACC,WAAwB;IACtC,OAAO,IAAI,CAACxB,IAAI,CAACU,IAAI,CAAC,IAAI,CAACR,UAAU,GAAG,WAAW,EAAEsB,WAAW,EAAE,IAAI,CAACpB,WAAW,CAAC;EACrF;;;uBAvCWN,WAAW,EAAA2B,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;IAAA;EAAA;;;aAAX9B,WAAW;MAAA+B,OAAA,EAAX/B,WAAW,CAAAgC,IAAA;MAAAC,UAAA,EAFV;IAAM;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}